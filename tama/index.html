<!doctype html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#0f380f" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>í•˜ë£¨ì¹˜ - í–„ìŠ¤í„° ë‹¤ë§ˆê³ ì¹˜ ğŸ¹</title>
  <link rel="icon" type="image/png" href="assets/hamster/normal.png">

  <!-- ë§í¬ ê³µìœ  ì‹œ ë¯¸ë¦¬ë³´ê¸° (ì¹´í†¡, SNS ë“±) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="í•˜ë£¨ì¹˜ - í–„ìŠ¤í„° ë‹¤ë§ˆê³ ì¹˜ ğŸ¹" />
  <meta property="og:description" content="ê·€ì—¬ìš´ í–„ìŠ¤í„° í•˜ë£¨ì¹˜ë¥¼ í‚¤ì›Œë³´ì„¸ìš”! ë°¥ ì£¼ê¸°, ë¬¼ ì£¼ê¸°, ì“°ë‹¤ë“¬ê¸°ë¡œ ë ˆë²¨ì—…!" />
  <meta property="og:image" content="/assets/Thumbnail_og.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="822" />
  <meta property="og:locale" content="ko_KR" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="í•˜ë£¨ì¹˜ - í–„ìŠ¤í„° ë‹¤ë§ˆê³ ì¹˜ ğŸ¹" />
  <meta name="twitter:image" content="/assets/Thumbnail_og.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Noto+Sans+KR:wght@400;700&display=swap"
    rel="stylesheet">
  <script>
    /* === 2026-02-20 Update for Vercel Sync === */
    /* === ê¸°ë³¸/í”„ë¡œ ë²„ì „ êµ¬ë¶„ (ë°°í¬ URL ê¸°ì¤€) ===
     * - basic (1000ì›): haruchi.vercel.app ë“±
     * - pro (5000ì›): haruchipro.vercel.app, haruchi-pro.vercel.app ë“± hostnameì— pro í¬í•¨
     * - ë¡œì»¬ í…ŒìŠ¤íŠ¸: ?tier=pro ë¡œ í”„ë¡œ ê¸°ëŠ¥ í™•ì¸ */
    window.APP_TIER = (function () {
      if (typeof location === 'undefined') return 'basic';
      if (location.search.includes('tier=pro')) return 'pro';
      var h = location.hostname || '';
      if (h.includes('haruchipro') || h.includes('-pro') || h.includes('.pro.')) return 'pro';
      return 'basic';
    })();
    window.IS_PRO = window.APP_TIER === 'pro';

    /* ë””ë²„ê·¸ ëª¨ë“œ ê°ì§€ (?debug=1 íŒŒë¼ë¯¸í„°) */
    (function () {
      if (location.search.includes('debug=1')) {
        document.body.setAttribute('data-debug-buttons', '1');
      }
    })();

    (function () {
      var isNotion = (location.search.includes('notion=1')) || (window.self !== window.top);
      if (!isNotion) return;
      document.documentElement.classList.add('notion-embed');
      var m = document.querySelector('meta[name="color-scheme"]');
      if (m) m.content = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
    })();
  </script>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body id="haruchiBody">

  <!-- ì˜¤í”„ë‹ ê³¡ (ë¬´í•œ ë°˜ë³µ, ì²« í„°ì¹˜ ì‹œ ì†Œë¦¬ ON) -->
  <audio id="openingBgm" loop preload="auto" playsinline>
    <source src="./assets/audio/opening.mp3" type="audio/mpeg">
    <source src="./assets/audio/opening.MP3" type="audio/mpeg">
  </audio>
  <!-- ê²Œì„ BGM (ê²Œì„ í”Œë ˆì´ ì‹œ ì „ìš©, ë¬´í•œ ë°˜ë³µ) -->
  <audio id="gameBgm" loop preload="auto" playsinline>
    <source src="./assets/audio/game_bgm.mp3" type="audio/mpeg">
  </audio>

  <!-- ê²Œì„ ì‹œì‘ í™”ë©´ (ì¸ë„¤ì¼ ë°°ê²½) - ì²« í„°ì¹˜ ì‹œ ì˜¤í”„ë‹ ì¬ìƒ -->
  <div class="start-screen" id="startScreen">
    <div class="start-screen-bg"></div>
    <div class="start-screen-content">
      <button type="button" class="game-start-btn" id="gameStartBtn" onclick="startGame()">ê²Œì„ ìŠ¤íƒ€íŠ¸</button>
    </div>
    <div class="credit-start">ì œì‘ by bbaekyohan</div>
    <div class="start-tap-hint">í™”ë©´ì„ ëˆŒëŸ¬ ì‹œì‘</div>
  </div>

  <div class="device-wrapper" id="deviceWrapper" style="display: none;">
    <div class="scale-wrapper" id="scaleWrapper">
      <div class="device-container" id="device">

        <div class="panel-gap-top"></div>

        <div class="screen-top">
          <img src="./assets/scene/bg.png" class="bg-image" alt="ë°°ê²½">
          <img src="./assets/hamster/normal.png" class="hamster bounce" id="hamster" alt="í•˜ë£¨ì¹˜">
          <div class="grooming-overlay" id="groomingOverlay"></div>
          <div class="hamster-click-area" onclick="handleHamsterClick()" title="í´ë¦­: ì“°ë‹¤ë“¬ê¸°"></div>

          <div class="house-click-area" onclick="handleHouseClick()" title="í´ë¦­: ì ìê¸°"></div>

          <div class="bowl-click-area" onclick="handleBowlClick()" title="í´ë¦­: ë¨¹ì´ì£¼ê¸°"></div>

          <div class="water-bottle-click-area" onclick="handleWaterBottleClick()" title="í´ë¦­: ë¬¼ ë§ˆì‹œê¸°"></div>

          <div class="angry-speech-bubble" id="angrySpeechBubble">ë¹ ì§!</div>
          <div class="drink-speech-bubble" id="drinkSpeechBubble">ì±±ì±±ì±±...</div>
          <div class="butt-speech-bubble" id="buttSpeechBubble">í† ì‹¤í† ì‹¤</div>
          <div class="feedback-speech-bubble" id="feedbackSpeechBubble"></div>
        </div>

        <div class="panel-gap"></div>

        <div class="screen-bottom">
          <div class="panel-left">
            <div class="panel-content-clickable" ondblclick="showStats()" style="cursor: pointer;" title="ë”ë¸”í´ë¦­: í†µê³„">
              <div class="stat-row">
                <span>LV.</span>
                <span class="val-level" id="uiLevel">1</span>
              </div>

              <div class="stat-row">
                <span>EXP</span>
                <span id="expText">0%</span>
              </div>

              <div class="exp-track">
                <div class="exp-fill" id="uiExp"></div>
              </div>

              <div class="goal-row">
                <span class="goal-label">ëª©í‘œ</span>
                <span>
                  <span class="goal-progress" id="goalProgress">0/5</span>
                  <span class="goal-percent" id="goalPercent">0%</span>
                </span>
              </div>

              <div class="title-row" id="titleRow">
                <span class="hamster-title" id="hamsterTitle">ìƒˆë‚´ê¸° í•˜ë£¨ì¹˜</span>
              </div>
            </div>
          </div>
          <div class="panel-right">
            <div class="panel-content-clickable log-panel-clickable">
              <div class="log-title">SYSTEM LOG</div>
              <div class="log-content" id="uiLog" onclick="openLogModal()" title="í´ë¦­í•˜ë©´ ì „ì²´ ë¡œê·¸ ë³´ê¸°">
                <div>> ì‹œìŠ¤í…œ ê°€ë™..</div>
                <div>> í•˜ë£¨ì¹˜ê°€ ê¸°ë‹¤ë ¤ìš”!</div>
              </div>
            </div>
          </div>
        </div>

        <div class="layer-frame">
          <img src="" class="frame-img" id="frameImg" alt="Frame">
          <img src="./assets/logo2.png" class="device-logo" alt="Logo" id="deviceLogo" onclick="toggleFrameSettingsPanel(event)">
          <img src="./assets/main_logo.png" class="main-logo" alt="Main Logo">
        </div>

        <div class="btn-area btn-a" onclick="handleBtn('A')" title="A"></div>
        <div class="btn-area btn-b" onclick="handleBtn('B')" title="B"></div>
        <div class="btn-area btn-c" onclick="handleBtn('C')" title="C"></div>
        <div class="btn-area btn-d" onclick="handleBtn('D')" title="D"></div>

      </div>
    </div>

    <!-- í”„ë ˆì„ ìŠ¤í‚¨ ì„¤ì • íŒ¨ë„ (í”„ë ˆì„ ë°–ì— ë°°ì¹˜) -->
    <div class="frame-settings-panel" id="frameSettingsPanel">
      <div class="frame-skin-picker-label">FRAME SKIN</div>
      <div class="frame-skin-btn-row">
        <button type="button" class="frame-skin-btn" data-frame-theme="classic">ê¸°ë³¸</button>
        <button type="button" class="frame-skin-btn" data-frame-theme="black">ë¸”ë™</button>
        <button type="button" class="frame-skin-btn" data-frame-theme="white">í™”ì´íŠ¸</button>
        <button type="button" class="frame-skin-btn" data-frame-theme="haruchi1">í•˜ë£¨ì¹˜ 1</button>
        <button type="button" class="frame-skin-btn" data-frame-theme="haruchi2">í•˜ë£¨ì¹˜ 2</button>
      </div>
      <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(255,255,255,0.2);">
        <button type="button" class="frame-skin-btn" onclick="openGroomingAdjustPanel(event)" style="width: 100%;">ê·¸ë£¨ë°
          ì¡°ì •</button>
      </div>
    </div>

    <!-- ê·¸ë£¨ë° ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ì¡°ì • íŒ¨ë„ -->
    <div class="grooming-adjust-panel" id="groomingAdjustPanel">
      <div class="grooming-adjust-header">
        <span>ê·¸ë£¨ë° í”„ë ˆì„ ì¡°ì •</span>
        <button class="grooming-adjust-close" onclick="closeGroomingAdjustPanel()">Ã—</button>
      </div>
      <div class="grooming-adjust-content">
        <div class="grooming-adjust-section">
          <label>ìœ„ì¹˜ (Top %)</label>
          <input type="range" id="groomingTop" min="0" max="100" step="1" value="68"
            oninput="updateGroomingValue('top', this.value)">
          <span id="groomingTopValue">68%</span>
        </div>
        <div class="grooming-adjust-section">
          <label>ìœ„ì¹˜ (Left %)</label>
          <input type="range" id="groomingLeft" min="0" max="100" step="1" value="50"
            oninput="updateGroomingValue('left', this.value)">
          <span id="groomingLeftValue">50%</span>
        </div>
        <div class="grooming-adjust-section">
          <label>X ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingOffsetX" min="-100" max="100" step="1" value="0"
            oninput="updateGroomingValue('offsetX', this.value)">
          <span id="groomingOffsetXValue">0px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>Y ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingOffsetY" min="-100" max="100" step="1" value="-30"
            oninput="updateGroomingValue('offsetY', this.value)">
          <span id="groomingOffsetYValue">-30px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>í–‰ 0 Y ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingRow0Y" min="-50" max="50" step="1" value="0"
            oninput="updateGroomingRowOffset(0, 'y', this.value)">
          <span id="groomingRow0YValue">0px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>í–‰ 1 Y ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingRow1Y" min="-50" max="50" step="1" value="0"
            oninput="updateGroomingRowOffset(1, 'y', this.value)">
          <span id="groomingRow1YValue">0px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>í–‰ 2 Y ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingRow2Y" min="-50" max="50" step="1" value="0"
            oninput="updateGroomingRowOffset(2, 'y', this.value)">
          <span id="groomingRow2YValue">0px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>í–‰ 3 Y ì˜¤í”„ì…‹ (px)</label>
          <input type="range" id="groomingRow3Y" min="-50" max="50" step="1" value="0"
            oninput="updateGroomingRowOffset(3, 'y', this.value)">
          <span id="groomingRow3YValue">0px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>í´ë¦½ Top (px)</label>
          <input type="range" id="groomingClipTop" min="0" max="100" step="1" value="28"
            oninput="updateGroomingValue('clipTop', this.value)">
          <span id="groomingClipTopValue">28px</span>
        </div>
        <div class="grooming-adjust-section">
          <label>ì• ë‹ˆë©”ì´ì…˜ ì†ë„ (ms)</label>
          <input type="range" id="groomingSpeed" min="20" max="300" step="10" value="150"
            oninput="updateGroomingValue('speed', this.value)">
          <span id="groomingSpeedValue">150ms</span>
        </div>
        <div class="grooming-adjust-buttons">
          <button type="button" class="grooming-adjust-btn" onclick="resetGroomingValues()">ì´ˆê¸°í™”</button>
          <button type="button" class="grooming-adjust-btn" onclick="autoAlignGroomingFrames()">ìë™ ì •ë ¬</button>
        </div>
      </div>
    </div>

    <div class="stats-modal" id="statsModal">
      <div class="stats-panel">
        <button class="stats-close" onclick="closeStats()">Ã—</button>
        <div class="stats-title">ğŸ“Š STATISTICS</div>
        <div id="statsContent">
        </div>
      </div>
    </div>

    <div class="stats-modal" id="logModal">
      <div class="stats-panel log-modal-panel">
        <button class="stats-close" onclick="closeLogModal()">Ã—</button>
        <div class="stats-title">ğŸ“‹ SYSTEM LOG</div>
        <div class="log-modal-content" id="logModalContent"></div>
      </div>
    </div>

  </div>
  </div>
  <div class="credit-game">ì œì‘ by bbaekyohan</div>

  <script src="js/game.js"></script>

  <!-- Vercel Speed Insights: ì›¹ì‚¬ì´íŠ¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ -->
  <script>
    window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
  </script>
  <script defer src="/_vercel/speed-insights/script.js"></script>
</body>

</html>