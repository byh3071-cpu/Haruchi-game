# 하루치 - 두 버전(게임 / 노션) 관리 가이드

> **핵심**: 하나의 코드베이스로 두 버전을 관리합니다. 스타일을 바꾸면 두 버전 모두 동일하게 반영됩니다.

---

## 📌 추천 방식: 단일 코드베이스 + URL 플래그

| 구분 | 게임 버전 | 노션 버전 |
|------|----------|----------|
| **URL** | `https://도메인/` | `https://도메인/?notion=1` |
| **시작 화면** | 오프닝(썸네일) → 게임 스타트 | **생략** (바로 게임 화면) |
| **스타일** | 동일 | 동일 |
| **XP 저장** | localStorage | localStorage + 노션 동기화 |
| **추가 UI** | 없음 | 통계 창에 "노션에서 XP 불러오기" 버튼 |

---

## 🔧 사용 방법

### 1. 게임 버전 (독립 실행)
- 링크: `https://your-app.vercel.app/`
- 노션 연동 없이 일반 플레이
- 밥/물/쓰다듬기 등으로만 XP 획득

### 2. 노션 버전 (노션 임베드용)
- 링크: `https://your-app.vercel.app/?notion=1`
- 노션 페이지에 위 URL을 **임베드**하여 사용
- 페이지 로드 시 노션 XP 불러오기 시도
- 통계 → "노션에서 XP 불러오기"로 수동 동기화 가능

---

## ✏️ 스타일 수정 시

**한 곳만 수정하면 됩니다**: `tama/index.html`

- 로고 크기, 제작 표시 위치, 버튼 위치, CSS 변수 등
- 변경 후 배포하면 **게임·노션 버전 모두 동일하게** 적용됩니다.

---

## 📁 구조 정리

```
Haruchi game/
├── tama/
│   └── index.html    ← 스타일·로직 전부 (공통)
├── api/
│   └── game.js       ← 노션 XP 조회 API (노션 모드에서만 호출)
├── vercel.json
└── 두버전관리.md     ← 이 문서
```

---

## 🔌 노션 API 연동 (선택)

현재 `api/game.js`는 **스텁**입니다. 실제 노션 연동을 하려면:

1. Vercel 프로젝트에 환경변수 설정:
   - `NOTION_TOKEN`: 노션 통합 토큰
   - `NOTION_DB_ID`: XP 합산용 DB ID

2. `api/game.js`에서 노션 API 호출 로직 구현
3. `?notion=1` URL로 접속 시 XP가 노션에서 불러와집니다.

---

## 📋 요약

- **배포**: 하나만 하면 두 버전 모두 최신 상태
- **스타일**: `index.html` 한 파일만 수정
- **노션**: `?notion=1` 붙이면 노션 모드, `api/game.js`에서 XP 제공
